<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="A map of reduplicated place names in Australia">
    <link id="favicon" rel="icon" href="https://glitch.com/edit/favicon-app.ico" type="image/x-icon">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.css" integrity="sha256-LcmP8hlMTofQrGU6W2q3tUnDnDZ1QVraxfMkP060ekM=" crossorigin="anonymous" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.js" integrity="sha256-kdEnCVOWosn3TNsGslxB8ffuKdrZoGQdIdPwh7W1CsE=" crossorigin="anonymous"></script>
  </head>
  <body>
    <header>
      <p>
        Planning a road trip? This
        <strong>Reduplication Map of Australia</strong> shows around a hundred
        <em><a href="https://en.wikipedia.org/wiki/List_of_reduplicated_Australian_place_names"
           title="List of reduplicated Australian place names">reduplicated</a></em>
        locality names and aliases from the
        <a href="https://www.psma.com.au/products/g-naf" title="G-NAF at PSMA">PSMA G-NAF</a>
        dataset, a comprehensive list of Australian addresses available from
        <a href="https://data.gov.au/dataset/geocoded-national-address-file-g-naf"
           title="G-NAF at data.gov.au">data.gov.au</a> on the condition that you don't
        attempt to use it to send physical mail unless you have some other means to verify
        you're not wasting Australia Post's time.
      </p>
    </header>
    <main id="map">
    </main>
   <footer>
      <p>
        You can <a href="https://glitch.com/edit/#!/reduplication-map?path=README.md">remix this in Glitch</a>
        to make your own map. GeoJSON and Leaflet make it relatively easy to muck around with maps. Glitch
        makes it even easier. Get started on that!
     </p>
  </footer>
    <script>
      var map = L.map('map').setView([ -33.50115712, 151.29601339 ], 13);
      L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
      }).addTo(map);
      fetch('/places.json')
        .then(r => r.json()).
      then(fc => L.geoJSON(fc, {
        onEachFeature: function (feature, layer) {
          var parts = [feature.properties.name];
          var aliases = feature.properties.aliases || [];
          if (aliases.length) {
            parts.push('aka');
            parts.push(aliases.join(', '));
          }
          layer.bindPopup(parts.join(' '));
        }
      }).addTo(map));
      map.flyToBounds([[ -43.63, 113.34 ], [ -10.67, 153.57 ]])
    </script>

  </body>
</html>
